# WF0001

<table>
<tr>
  <td>Diagnostic ID</td>
  <td>WF0001</td>
</tr>
<tr>
  <td>Category</td>
  <td>Usage</td>
</tr>
<tr>
  <td>Severity</td>
  <td>Warning</td>
</tr>
</table>

## Rule description

This rule reports cases where the Temporal Workflow definition uses non-deterministic code - either directly in the Workflow definition or in a function called by the Workflow.
This rule traverses through the Syntax Tree of the Temporal Workflow definition and checks for pre-determined non-deterministic code.
1. [System.Random](https://learn.microsoft.com/en-us/dotnet/api/system.random) - Using a pseudo-random number generator.
2. [System.DateTime.Now](https://learn.microsoft.com/en-us/dotnet/api/system.datetime.now) - Using DateTime object property whose value is the current local date and time.
3. [System.DateTime.UtcNow](https://learn.microsoft.com/en-us/dotnet/api/system.datetime.utcnow) - Using DateTime object property whose value is the current UTC date and time.
4. [System.DateTime.Today](https://learn.microsoft.com/en-us/dotnet/api/system.datetime.today) - Using DateTime object property whose value is the today's date.
5. [System.Guid.NewGuid](https://learn.microsoft.com/en-us/dotnet/api/system.guid.newguid) - Using a method to get a new pseudo-random Guid.
6. [System.Guid.CreateVersion7](https://learn.microsoft.com/en-us/dotnet/api/system.guid.createversion7) - Using a method to get a new pseudo-random Guid according to RFC 9562.
7. [System.Security.Cryptography.RandomNumberGenerator](https://learn.microsoft.com/en-us/dotnet/api/system.security.cryptography.randomnumbergenerator) - Using a cryptographically strong random number generator.

## How to fix violations

To fix a violation of this rule:

* Ensure non-deterministic code is not used in the Temporal Workflow definition or in a function called by the Workflow.
* Use Temporal's built-in [workflow utilities](https://github.com/temporalio/sdk-dotnet?tab=readme-ov-file#workflow-utilities) to find deterministic alternatives.

## How to suppress violations

This warning can only be suppressed by disabling the warning in the **ruleset** file for the project.